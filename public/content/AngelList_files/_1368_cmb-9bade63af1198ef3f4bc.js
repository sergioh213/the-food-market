webpackJsonp([307],{1526:function(t,e,r){var n={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(r.bind(null,106)),new Promise(function(t){t()}).then(r.bind(null,33)),r.e(166).then(r.bind(null,1354)),r.e(28).then(r.bind(null,853))]).then(function(){return function(t,e,r,o){return{FollowToggleView:function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,t.View),i.REQUIRED_ATTRIBUTES=["follower_id","followed_type","followed_token"],i.prototype.renderCreated=function(){throw new Error("Subclasses must override")},i.prototype.renderDestroyed=function(){throw new Error("Subclasses must override")},i.prototype.render=function(){return null!=this.model?this.renderCreated():this.renderDestroyed()},i.prototype.initialize=function(t){var e,n,u,l,s;if(this.attributes=t.attributes,null==this.attributes)throw new Error("Must provide base follow attributes");for(n=0,u=(l=i.REQUIRED_ATTRIBUTES).length;n<u;n++)if(e=l[n],!this.attributes[e])throw new Error("Missing required attribute: "+e);return this.collection||(this.collection=o.get(r)),s=function(t){return function(){return null!=t.model&&t.stopListening(t.model),t.model=t.collection.findWhere(t.attributes),null!=t.model&&t.listenTo(t.model,"request",function(e,r,n){var o;return o=function(){return t._destroyModel(t.model)},t._currentXhr=r,r.always(function(){if(t._currentXhr===r)return t._currentXhr=null}),r.done(function(t){if(!t.success)return o()}),r.error(o),t.trigger("request",e,r,n)}),t.render()}}(this),this.listenTo(this.collection,"add remove",s),s()},i.prototype.currentXhr=function(){return this._currentXhr},i.prototype.click=function(){var t;return null!=this.currentXhr()||(null!=this.model?this._destroyModel(this.model):(t=this.collection.add(new r(this.attributes)),this._saveModel(t)))},i.prototype.events={click:"click"},i.prototype._destroyModel=function(t){return t.destroy()},i.prototype._saveModel=function(t){return t.save()},i}()}}.apply(void 0,arguments[0])}.bind(this))}});